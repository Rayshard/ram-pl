program = (statement SEMICOLON)*

assignment = IDENTIFIER EQUAL expr 
codeblock = LBRACKET (statement SEMICOLON)* RBRACKET
typeDef = LBRACKET (memberDef SEMICOLON)+ RBRACKET
memberDef = IDENTIFIER COLON IDENTIFIER
argDefList = LPAREN (memberDef (COMMA memberDef)*) RPAREN
exprList = (expr (COMMA expr)*)?
argInList = LPAREN exprList RPAREN

typeName =
	| IDENTIFIER (PERIOD IDENTIFIER)* 
	| arrayDef

arrayDef = LSQRBRACKET typeName RSQRBRACKET

statement =
	| expr 
	| assignment
	| LET IDENTIFIER EQUALS expr
	| codeblock
	| FOR assignment IF expr THEN statement FINALLY assignment
	| DEFINE IDENTIFIER EQUALS typeDef
	| FUNC IDENTIFIER argDefList COLON IDENTIFIER statement
	| IF expr THEN statement (ELSE statement)
	| WHILE expr DO statement

expr = 
	| binop_expr (BINOP_REL expr)?

binop_expr =
	| term
	| term BINOP_ADD expr

BINOP_REL = LT LTEQ GT GTEQ 
BINOP_ADD = PLUS | MINUS
BINOP_MULTIPLY = TIMES | DIVIDE

term = factor (BINOP_MULTIPLY term)

factor =
	| (MINUS)? singular
	| LT IDENTIFIER GT factor									// Cast Expression

singular =
	| LPAREN expr RPAREN
	| IDENTIFIER
	| membered
	| array
	| INT_LIT
	| FLOAT_LIT
	| STRING_LIT
	| "true"
	| "false"
	| functionCall
	| arrayAccess
	| access

array = LSQRBRACKET exprList RSQRBRACKET
access = singular PERIOD (IDENTIFIER | argInlist)
arrayAccess = singular LSQRBRACKET singular RSQRBRACKET
membered = <LBRACKET (assigment SEMICOLON)+ RBRACKET>
func_call = singular LPAREN argList? RPAREN